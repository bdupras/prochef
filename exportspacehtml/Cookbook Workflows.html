<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <title>Chef : Cookbook Workflows</title>
	    <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">	    
    </head>

    <body>
	    <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
		    <tr>
			    <td valign="top" class="pagebody">
				    <div class="pageheader">
					    <span class="pagetitle">
                            Chef : Cookbook Workflows
                                                    </span>
				    </div>
				    <div class="pagesubheading">
					    This page last changed on Apr 08, 2012 by <font color="#0050B2">agoddard</font>.
				    </div>

				    <h2><a name="CookbookWorkflows-Workflows"></a>Workflows</h2>
<h3><a name="CookbookWorkflows-Combinedchef%2Fcookbookrepo"></a>Combined chef / cookbook repo</h3>
<p>In this workflow, cookbooks are contained within the same repo as the rest of your chef configuration (roles, data bags, environments etc). This workflow makes it easy to manage a single chef instance, however it makes it difficult to collaborate with others on cookbooks, as in order to do so, you would need to share your entire chef repo (often containing data specific to only your environment). The simplest way for installing cookbooks with this method is to use `knife cookbook site vendor &lt;cookbook name&gt; to install cookbooks from the community site into your repo.</p>
<h3><a name="CookbookWorkflows-Onegitrepositorycontainingallcookbooks"></a>One git repository containing all cookbooks</h3>
<p>Keeping all cookbooks within one repo keeps the management of the cookbooks simple, and allows for a large number of private cookbooks to be stored on a service like github without the cost of multiple private repositories. The simplest way for installing cookbooks with this method is to use `knife cookbook site vendor &lt;cookbook name&gt; to install cookbooks from the community site into your cookbooks repo. Note that if you use existing cookbooks from the Community site or github, moving them into your cookbooks repository will make it difficult to push your changes back to the community, and having all of your custom cookbooks in this same repository will make it more difficult for others to collaborate on them using a typical github workflow.</p>
<h3><a name="CookbookWorkflows-Onegitrepositorypercookbook"></a>One git repository per cookbook</h3>
<p>For developing cookbooks, this is the simplest workflow, as it allows for cookbook forking, pull requests and other tools with services like github. Without using tools to manage the individual cookbooks (like sub-modules or Librarian) this workflow become cumbersome quickly and would be hard to keep in sync between workstations and users.</p>
<h3><a name="CookbookWorkflows-Cookbooksasgitsubmodules"></a>Cookbooks as git sub-modules</h3>
<p>A solution to the 'one git repository per cookbook' issue with keeping cookbooks in sync is to use git submodules to point to each individual git repo. This makes it simpler to keep all of your individual cookbook git repos in sync by simply pointing to each repo using a submodule. The submodules can all be stored within a single cookbooks repository, making sharing that repository simple while still gaining the collaborative advantages of having an individual git repo for each cookbook.</p>
<h3><a name="CookbookWorkflows-Librarian"></a>Librarian</h3>
<p>Librarian is a tool for managing cookbooks which is analogous to Bundler's 'Gemfile' for ruby gems. A Librarian 'Cheffile' can be configured to point to cookbooks on the Opscode community site, individual git repos, or even cookbooks embedded within larger git repos. As the Cheffile can be checked into version control in your chef-repo, sharing the state of your repo's cookbooks directory becomes simplified, and you can easily use cookbooks from a combination of sources.</p>
<h2><a name="CookbookWorkflows-Usecases"></a>Use cases</h2>

				    
                    			    </td>
		    </tr>
	    </table>
	    <table border="0" cellpadding="0" cellspacing="0" width="100%">
			<tr>
				<td height="12" background="http://wiki.opscode.com/images/border/border_bottom.gif"><img src="images/border/spacer.gif" width="1" height="1" border="0"/></td>
			</tr>
		    <tr>
			    <td align="center"><font color="grey">Document generated by Confluence on Aug 04, 2012 00:03</font></td>
		    </tr>
	    </table>
    </body>
</html>
