<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <title>Chef : Managing Roles with the Hosted Chef Management Console</title>
	    <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">	    
    </head>

    <body>
	    <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
		    <tr>
			    <td valign="top" class="pagebody">
				    <div class="pageheader">
					    <span class="pagetitle">
                            Chef : Managing Roles with the Hosted Chef Management Console
                                                    </span>
				    </div>
				    <div class="pagesubheading">
					    This page last changed on Aug 03, 2012 by <font color="#0050B2">jtimberman</font>.
				    </div>

				    <table class="sectionMacro" border="0" cellpadding="5" cellspacing="0" width="100%"><tbody><tr>
<td class="confluenceTd" valign="top" width="3%"></td>
<td class="confluenceTd" valign="top">
<p><br class="atl-forced-newline" /></p>

<div class="panel" style="background-color: #d7d4c3;border-width: 1px;"><div class="panelContent" style="background-color: #d7d4c3;">
<h3><a name="ManagingRoleswiththeHostedChefManagementConsole-"></a><font color="#f7681a">This page explains how to manage your roles:</font></h3>
<ul>
	<li>Listing Roles</li>
	<li>Viewing a Role</li>
	<li>Creating a Role</li>
	<li>Editing a Role</li>
	<li>Modifying Role Attributes</li>
	<li>Editing Roles on a Node</li>
	<li>Deleting a Role</li>
</ul>
</div></div>

<div class='navmenu' style='float:right; width:500px; background:#ffffff; border:8px solid #d7d4c3; margin:3px; padding:10px'><ul>
	<li><b>To follow these directions, first <a href="Managing your Account and Billing Information.html#ManagingyourAccountandBillingInformation-LogintotheManagementConsole">log into the Hosted Chef Management Console</a> with your existing username.</b> If you have not signed up for an account yet, follow the directions on the <a href="Setup Opscode User and Organization.html" title="Setup Opscode User and Organization">Setup Opscode User and Organization</a> page.</li>
</ul>


<ul>
	<li><b>If you're interested in editing account, nodes or other data in the Management Console instead, return to <a href="Hosted Chef Management Console.html" title="Hosted Chef Management Console">Hosted Chef Management Console</a>, and make the appropriate selection.</b></li>
</ul>

</div>
<h2><a name="ManagingRoleswiththeHostedChefManagementConsole-ListingRolesintheOrganization"></a>Listing Roles in the Organization</h2>

<p>To list roles in your organization:</p>

<p>1. Log on to the <a href="http://manage.opscode.com">Hosted Chef Management Console</a> and select an organization to use if you are associated with multiple organizations.</p>

<p>2. Click <em>Roles</em> on the main navigation menu.</p>

<p><span class="image-wrap" style=""><img src="../attachments/19923237/20086939.png" style="border: 0px solid black"/></span></p>

<p><b>Note:</b> You need <a href="Managing Permissions with the Hosted Chef Management Console.html" title="Managing Permissions with the Hosted Chef Management Console">list permissions</a> on the global roles level to see the list of roles.</p>

<h2><a name="ManagingRoleswiththeHostedChefManagementConsole-ViewingaRole"></a>Viewing a Role</h2>

<p>Viewing a role shows the recipes and roles included in the role, as well as a tree view of the attributes associated with the role.</p>

<p>In order to view a specific role:</p>

<p>1. Log on to the <a href="http://manage.opscode.com">Hosted Chef Management Console</a> and select an organization to use if you are associated with multiple organizations.</p>

<p>2. Click <em>Roles</em> on the main navigation menu.</p>

<p>3. Click on the name of the specific role you want to view. This will bring you to a page where you can see the run_list and attributes for the role:</p>

<p><span class="image-wrap" style=""><img src="../attachments/19923237/20086940.png" style="border: 0px solid black"/></span></p>

<p><b>Note:</b> You need <a href="Managing Permissions with the Hosted Chef Management Console.html" title="Managing Permissions with the Hosted Chef Management Console">read permissions</a> on the role to view it. </p>

<h2><a name="ManagingRoleswiththeHostedChefManagementConsole-CreatingaRole"></a>Creating a Role</h2>

<p>The role create page allows you to create a role. You can add recipes and roles to the run list. There is also a JSON editor for editing, adding and removing JSON attributes associated with the role.</p>

<p>In order to create a role:</p>

<p>1. Login to the <a href="http://manage.opscode.com">Hosted Chef Management Console</a> and navigate to the <em>Roles</em> tab.</p>

<p>2. Make sure that the correct environment is selected at the top of the screen, select <em>None</em> if you want this role to work the same on all environments. Click <em>Create</em> on the sub navigation bar.</p>

<p>3. Give the role a name and an optional description.</p>

<p>4. Continue onto editing the role, by adding to it's run_list and editing the attributes. This is described further in the <a href="#ManagingRoleswiththeHostedChefManagementConsole-EditingaRole">next section</a>. </p>

<p>5. When you have finished editing the role, click <em>Create Role</em> to save the new role.</p>

<p>If you selected a custom environment and need the run list setup differently with another environment, you can now change the environment and edit the run list. If an environment is selected from the drop down at the top of the page, you will only see the run_list and attributes specific to this environment. You can see the default run list and attributes by selecting <em>None</em> or _<em>default</em> from the drop down.</p>

<p><b>Note:</b> You need <a href="Managing Permissions with the Hosted Chef Management Console.html" title="Managing Permissions with the Hosted Chef Management Console">create permissions</a> on the global roles level to create new roles.</p>

<h2><a name="ManagingRoleswiththeHostedChefManagementConsole-EditingaRole"></a>Editing a Role</h2>

<p>1. Login to the <a href="http://manage.opscode.com">Hosted Chef Management Console</a> and navigate to the <em>Roles</em> tab.</p>

<p>2. Make sure that the correct environment is selected at the top of the screen, select <em>None</em> if you want this role to work the same on all environments. Click on <em>edit</em> next to the role you want to edit.</p>

<p>3. To <b><font color="#f7681a">add</font></b> a role or recipe to the role being edited, drag it from <em>Available Roles</em> or <em>Available Recipes</em> to <em>Run List</em>:</p>

<p><span class="image-wrap" style=""><img src="../attachments/19923237/20086941.png" style="border: 0px solid black"/></span></p>

<p>4. To <b><font color="#f7681a">remove</font></b> a role or recipe from the role being edited, drag it from the <em>Run List</em> back to an <em>Available</em> section:</p>

<p><span class="image-wrap" style=""><img src="../attachments/19923237/20086942.png" style="border: 0px solid black"/></span></p>

<p>The <em>Active Run List</em> panel on the right shows the current active run list for the environment selected with the drop down box at the top of the page. If the <em>None</em> or _<em>default</em> environments are selected it shows the default run list. If you've selected an environment that does not have a specific run list yet it will also show the default run list. If you edit the run list while an environment is selected at the top of the page, your changes will be saved as a run list specific for nodes in that environment.</p>

<p>5. Click <em>Save Role</em> to save.</p>

<p><b>Note:</b> You need <a href="Managing Permissions with the Hosted Chef Management Console.html" title="Managing Permissions with the Hosted Chef Management Console">update permissions</a> on the role to edit it.</p>

<h3><a name="ManagingRoleswiththeHostedChefManagementConsole-ModifyingRoleDefaultandOverrideAttributes"></a>Modifying Role Default and Override Attributes</h3>

<p>You can edit the override <a href="Attributes.html" title="Attributes">Attributes</a> of a role, to override the values of an included recipe or role, and you can edit the default attributes of a role to specify attributes that do not exist in included recipes and roles. You can use the <em>Editor</em> or <em>Source</em> tabs on this page to edit the attributes. With the <em>Editor</em> tab you can edit the attributes by selecting the location on the tree and adding the details. You can use the <em>Source</em> tab to paste in JSON directly.</p>

<p><b>Note:</b> You need <a href="Managing Permissions with the Hosted Chef Management Console.html" title="Managing Permissions with the Hosted Chef Management Console">update permissions</a> on the role to edit the attributes.</p>

<h4><a name="ManagingRoleswiththeHostedChefManagementConsole-UsingtheEditortab"></a>Using the <em>Editor</em> tab</h4>

<p>1. Click on the plus sign next to "json" and select "default" or "override" from the tree on the left, depending on the type of attribute you want to create. If you're unsure, you should select "default" unless you are trying to override a default attribute that is already set in the node or in a recipe.</p>

<p>2. Click on the <em>Editor</em> tab on the right.</p>

<p>3. Push the green add button under the <em>Editor</em> tab: <span class="image-wrap" style=""><img src="../attachments/19923237/20086946.png" style="border: 0px solid black"/></span></p>

<p>4. Select a type of attribute from the drop down box. If you are unsure, you most likely want "string" if the value is text, or "number" if the value is a number.</p>

<p>5. Enter a name as the key and a body as the value and click <em>Add Attribute</em>. The following figure shows the Default and Override Attributes tree and the JSON editor.</p>

<p><span class="image-wrap" style=""><img src="../attachments/19923237/20086959.png" style="border: 0px solid black"/></span></p>

<p>6. Click the <em>Create Role</em> or <em>Save Role</em> button to save the role. </p>

<h4><a name="ManagingRoleswiththeHostedChefManagementConsole-UsingtheSourcetab"></a>Using the <em>Source</em> tab</h4>

<p>1. Enter the JSON body in the editor, and click the <em>Load JSON from source</em> button: <span class="image-wrap" style=""><img src="../attachments/19923237/20086948.png" style="border: 0px solid black"/></span></p>

<p><span class="image-wrap" style=""><img src="../attachments/19923237/20086960.png" style="border: 0px solid black"/></span></p>

<p>2. Click the <em>Create Role</em> or <em>Save Role</em> button to save the role. </p>

<h2><a name="ManagingRoleswiththeHostedChefManagementConsole-EditingtheRolesonaNode%27sRunList"></a>Editing the Roles on a Node's Run List</h2>

<p>To edit the roles that are in a node's run list, follow the <a href="Managing Nodes with the Hosted Chef Management Console.html#ManagingNodeswiththeHostedChefManagementConsole-EditingaNode">Managing Nodes</a> page. You can also use <a href="Knife.html" title="Knife">Knife</a> to edit the run list for the node.</p>

<h2><a name="ManagingRoleswiththeHostedChefManagementConsole-DeletingaRole"></a>Deleting a Role</h2>

<p>In order to delete a role:</p>

<p>1. Login to the <a href="http://manage.opscode.com">Hosted Chef Management Console</a> and navigate to the <em>Roles</em> tab.</p>

<p>2. Click the <em>Delete</em> link next to the name of the role you want to delete, and click <em>OK</em> on the confirmation message box. Or, click the role to view its details, and click <em>Delete</em> on the sub navigation menu. </p>

<p><b>Note:</b> You need <a href="Managing Permissions with the Hosted Chef Management Console.html" title="Managing Permissions with the Hosted Chef Management Console">delete permissions</a> on the role to delete it. If you don't have delete permissions, you may not see a <em>Delete</em> link or tab.</p>

<p><br class="atl-forced-newline" />
<br class="atl-forced-newline" />
<br class="atl-forced-newline" />
<br class="atl-forced-newline" /></p></td>
<td class="confluenceTd" valign="top" width="5%"></td></tr></tbody></table>
<table class="sectionMacro" border="0" cellpadding="5" cellspacing="0" width="100%"><tbody><tr>
<hr />
<td class="confluenceTd" valign="top" width="45%">

<p><a href="Managing Permissions with the Hosted Chef Management Console.html" title="Managing Permissions with the Hosted Chef Management Console"><span class="image-wrap" style="float: left"><img src="../attachments/19923237/21463173.png" hspace="4" style="border: 0px solid black"/></span> Managing Permissions with the Hosted Chef Management Console </a></p>
</td>
<td class="confluenceTd" valign="top" width="40%"></td>

<td class="confluenceTd" valign="top" width="15%">

<p><a href="Managing Users and your Private Key with the Hosted Chef Management Console.html" title="Managing Users and your Private Key with the Hosted Chef Management Console"><span class="image-wrap" style="float: right"><img src="../attachments/19923237/21463172.png" hspace="4" style="border: 0px solid black"/></span> Managing Users and your Private Key with the Hosted Chef Management Console </a></p>

<p><br class="atl-forced-newline" />
<br class="atl-forced-newline" /></p></td></tr></tbody></table>

				    					    <br/>
                        <div class="tabletitle">
                            <a name="attachments">
                                <h2>Attachments:</h2>
                            </a>
                        </div>

                        <div class="greybox" align="left">
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="../attachments/19923237/20086939.png">role-list.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="../attachments/19923237/20086940.png">role-show.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="../attachments/19923237/20086941.png">runlist-add.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="../attachments/19923237/20086942.png">runlist-remove.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="../attachments/19923237/20086946.png">node-editor-green-button.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="../attachments/19923237/20086948.png">data-bags-attributes-source1.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="../attachments/19923237/20086959.png">attributes-override-editor.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="../attachments/19923237/20086960.png">attributes-override-source.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="../attachments/19923237/21463172.png">rightarrow.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="../attachments/19923237/21463173.png">leftarrow.png</a> (image/png)
                                <br/>
                                                    </div>
				    
                    			    </td>
		    </tr>
	    </table>
	    <table border="0" cellpadding="0" cellspacing="0" width="100%">
			<tr>
				<td height="12" background="http://wiki.opscode.com/images/border/border_bottom.gif"><img src="images/border/spacer.gif" width="1" height="1" border="0"/></td>
			</tr>
		    <tr>
			    <td align="center"><font color="grey">Document generated by Confluence on Aug 04, 2012 00:06</font></td>
		    </tr>
	    </table>
    </body>
</html>
